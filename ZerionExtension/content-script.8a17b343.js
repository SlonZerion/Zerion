!function(){function e(e,r,t,s){Object.defineProperty(e,r,{get:t,set:s,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var s={},n={},o=r.parcelRequire7f4b;null==o&&((o=function(e){if(e in s)return s[e].exports;if(e in n){var r=n[e];delete n[e];var t={id:e,exports:{}};return s[e]=t,r.call(t.exports,t,t.exports),t.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},r.parcelRequire7f4b=o);var i=o.register;i("h3xyl",function(r,t){e(r.exports,"nanoid",function(){return s});let s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,r)=>((r&=63)<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"")}),i("kTh4x",function(e,r){var t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,t=function(e){if(!globalThis.chrome?.runtime?.id)throw Error("This script should only be loaded in a browser extension.");void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype?e.exports=(e=>{let r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw Error("api-metadata.json has not been included in browser-polyfill");class t extends WeakMap{constructor(e,r){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}let s=e=>e&&"object"==typeof e&&"function"==typeof e.then,n=(r,t)=>(...s)=>{e.runtime.lastError?r.reject(Error(e.runtime.lastError.message)):t.singleCallbackArg||s.length<=1&&!1!==t.singleCallbackArg?r.resolve(s[0]):r.resolve(s)},o=e=>1==e?"argument":"arguments",i=(e,r)=>function(t,...s){if(s.length<r.minArgs)throw Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((o,i)=>{if(r.fallbackToNoCallback)try{t[e](...s,n({resolve:o,reject:i},r))}catch(n){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,n),t[e](...s),r.fallbackToNoCallback=!1,r.noCallback=!0,o()}else r.noCallback?(t[e](...s),o()):t[e](...s,n({resolve:o,reject:i},r))})},a=(e,r,t)=>new Proxy(r,{apply:(r,s,n)=>t.call(s,e,...n)}),g=Function.call.bind(Object.prototype.hasOwnProperty),c=(e,r={},t={})=>{let s=Object.create(null),n=Object.create(e);return new Proxy(n,{has:(r,t)=>t in e||t in s,get(n,o,l){if(o in s)return s[o];if(!(o in e))return;let m=e[o];if("function"==typeof m){if("function"==typeof r[o])m=a(e,e[o],r[o]);else if(g(t,o)){let r=i(o,t[o]);m=a(e,e[o],r)}else m=m.bind(e)}else if("object"==typeof m&&null!==m&&(g(r,o)||g(t,o)))m=c(m,r[o],t[o]);else{if(!g(t,"*"))return Object.defineProperty(s,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(r){e[o]=r}}),m;m=c(m,r[o],t["*"])}return s[o]=m,m},set:(r,t,n,o)=>(t in s?s[t]=n:e[t]=n,!0),defineProperty:(e,r,t)=>Reflect.defineProperty(s,r,t),deleteProperty:(e,r)=>Reflect.deleteProperty(s,r)})},l=e=>({addListener(r,t,...s){r.addListener(e.get(t),...s)},hasListener:(r,t)=>r.hasListener(e.get(t)),removeListener(r,t){r.removeListener(e.get(t))}}),m=new t(e=>"function"!=typeof e?e:function(r){e(c(r,{},{getContent:{minArgs:0,maxArgs:0}}))}),u=new t(e=>"function"!=typeof e?e:function(r,t,n){let o,i,a=!1,g=new Promise(e=>{o=function(r){a=!0,e(r)}});try{i=e(r,t,o)}catch(e){i=Promise.reject(e)}let c=!0!==i&&s(i);return(!0===i||!!c||!!a)&&((e=>{e.then(e=>{n(e)},e=>{n({__mozWebExtensionPolyfillReject__:!0,message:e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred"})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})})(c?i:g),!0)}),p=({reject:r,resolve:t},s)=>{e.runtime.lastError?"The message port closed before a response was received."===e.runtime.lastError.message?t():r(Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?r(Error(s.message)):t(s)},d=(e,r,t,...s)=>{if(s.length<r.minArgs)throw Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((e,r)=>{let n=p.bind(null,{resolve:e,reject:r});s.push(n),t.sendMessage(...s)})},A={devtools:{network:{onRequestFinished:l(m)}},runtime:{onMessage:l(u),onMessageExternal:l(u),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},x={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":x},services:{"*":x},websites:{"*":x}},c(e,A,r)})(chrome):e.exports=globalThis.browser},"function"==typeof define&&define.amd?define("webextension-polyfill",["module"],t):t(e)}),i("g75IP",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("40FTx");t.__exportStar(o("6kttH"),e.exports),t.__exportStar(o("4RpHB"),e.exports),t.__exportStar(o("9keqb"),e.exports),t.__exportStar(o("b8aF1"),e.exports),t.__exportStar(o("edwdq"),e.exports),t.__exportStar(o("j1VNq"),e.exports),t.__exportStar(o("e9xUv"),e.exports)}),i("40FTx",function(r,t){e(r.exports,"__assign",function(){return s}),e(r.exports,"__awaiter",function(){return n}),e(r.exports,"__exportStar",function(){return i}),e(r.exports,"__importDefault",function(){return a});var s=function(){return(s=Object.assign||function(e){for(var r,t=1,s=arguments.length;t<s;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function n(e,r,t,s){return new(t||(t=Promise))(function(n,o){function i(e){try{g(s.next(e))}catch(e){o(e)}}function a(e){try{g(s.throw(e))}catch(e){o(e)}}function g(e){var r;e.done?n(e.value):((r=e.value)instanceof t?r:new t(function(e){e(r)})).then(i,a)}g((s=s.apply(e,r||[])).next())})}var o=Object.create?function(e,r,t,s){void 0===s&&(s=t);var n=Object.getOwnPropertyDescriptor(r,t);(!n||("get"in n?!r.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,s,n)}:function(e,r,t,s){void 0===s&&(s=t),e[s]=r[t]};function i(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||o(r,e,t)}function a(e){return e&&e.__esModule?e:{default:e}}}),i("6kttH",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.STANDARD_ERROR_MAP=e.exports.SERVER_ERROR_CODE_RANGE=e.exports.RESERVED_ERROR_CODES=e.exports.SERVER_ERROR=e.exports.INTERNAL_ERROR=e.exports.INVALID_PARAMS=e.exports.METHOD_NOT_FOUND=e.exports.INVALID_REQUEST=e.exports.PARSE_ERROR=void 0,e.exports.PARSE_ERROR="PARSE_ERROR",e.exports.INVALID_REQUEST="INVALID_REQUEST",e.exports.METHOD_NOT_FOUND="METHOD_NOT_FOUND",e.exports.INVALID_PARAMS="INVALID_PARAMS",e.exports.INTERNAL_ERROR="INTERNAL_ERROR",e.exports.SERVER_ERROR="SERVER_ERROR",e.exports.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],e.exports.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],e.exports.STANDARD_ERROR_MAP={[e.exports.PARSE_ERROR]:{code:-32700,message:"Parse error"},[e.exports.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[e.exports.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[e.exports.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[e.exports.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[e.exports.SERVER_ERROR]:{code:-32e3,message:"Server error"}}}),i("4RpHB",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateJsonRpcError=e.exports.getErrorByCode=e.exports.getError=e.exports.isValidErrorCode=e.exports.isReservedErrorCode=e.exports.isServerErrorCode=void 0;var t=o("6kttH");function s(e){return t.RESERVED_ERROR_CODES.includes(e)}function n(e){return"number"==typeof e}function i(e){return Object.values(t.STANDARD_ERROR_MAP).find(r=>r.code===e)||t.STANDARD_ERROR_MAP[t.INTERNAL_ERROR]}e.exports.isServerErrorCode=function(e){return e<=t.SERVER_ERROR_CODE_RANGE[0]&&e>=t.SERVER_ERROR_CODE_RANGE[1]},e.exports.isReservedErrorCode=s,e.exports.isValidErrorCode=n,e.exports.getError=function(e){return Object.keys(t.STANDARD_ERROR_MAP).includes(e)?t.STANDARD_ERROR_MAP[e]:t.STANDARD_ERROR_MAP[t.INTERNAL_ERROR]},e.exports.getErrorByCode=i,e.exports.validateJsonRpcError=function(e){if(void 0===e.error.code)return{valid:!1,error:"Missing code for JSON-RPC error"};if(void 0===e.error.message)return{valid:!1,error:"Missing message for JSON-RPC error"};if(!n(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(s(e.error.code)){let r=i(e.error.code);if(r.message!==t.STANDARD_ERROR_MAP[t.INTERNAL_ERROR].message&&e.error.message===r.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}}),i("9keqb",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isNodeJs=void 0;var t=o("40FTx");e.exports.isNodeJs=o("lIbXm").isNode,t.__exportStar(o("lIbXm"),e.exports)}),i("lIbXm",function(e,r){var t=e.exports&&e.exports.__createBinding||(Object.create?function(e,r,t,s){void 0===s&&(s=t),Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,s){void 0===s&&(s=t),e[s]=r[t]}),s=e.exports&&e.exports.__exportStar||function(e,r){for(var s in e)"default"===s||r.hasOwnProperty(s)||t(r,e,s)};Object.defineProperty(e.exports,"__esModule",{value:!0}),s(o("8L3ys"),e.exports),s(o("k06Dd"),e.exports)}),i("8L3ys",function(e,t){function s(){return(null==r?void 0:r.crypto)||(null==r?void 0:r.msCrypto)||{}}function n(){let e=s();return e.subtle||e.webkitSubtle}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isBrowserCryptoAvailable=e.exports.getSubtleCrypto=e.exports.getBrowerCrypto=void 0,e.exports.getBrowerCrypto=s,e.exports.getSubtleCrypto=n,e.exports.isBrowserCryptoAvailable=function(){return!!s()&&!!n()}}),i("k06Dd",function(e,r){var t=o("fW3Z9");function s(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isBrowser=e.exports.isNode=e.exports.isReactNative=void 0,e.exports.isReactNative=s,e.exports.isNode=n,e.exports.isBrowser=function(){return!s()&&!n()}}),i("fW3Z9",function(e,r){var t,s,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function g(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var c=[],l=!1,m=-1;function u(){l&&n&&(l=!1,n.length?c=n.concat(c):m=-1,c.length&&p())}function p(){if(!l){var e=g(u);l=!0;for(var r=c.length;r;){for(n=c,c=[];++m<r;)n&&n[m].run();m=-1,r=c.length}n=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(r){try{return s.call(null,e)}catch(r){return s.call(this,e)}}}(e)}}function d(e,r){this.fun=e,this.array=r}function A(){}o.nextTick=function(e){var r=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];c.push(new d(e,r)),1!==c.length||l||g(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=A,o.addListener=A,o.once=A,o.off=A,o.removeListener=A,o.removeAllListeners=A,o.emit=A,o.prependListener=A,o.prependOnceListener=A,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}),i("b8aF1",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.formatErrorMessage=e.exports.formatJsonRpcError=e.exports.formatJsonRpcResult=e.exports.formatJsonRpcRequest=e.exports.payloadId=void 0;var t=o("4RpHB"),s=o("6kttH");function n(){return 1e3*Date.now()+Math.floor(1e3*Math.random())}function i(e){if(void 0===e)return t.getError(s.INTERNAL_ERROR);if("string"==typeof e&&(e=Object.assign(Object.assign({},t.getError(s.SERVER_ERROR)),{message:e})),t.isReservedErrorCode(e.code)&&(e=t.getErrorByCode(e.code)),!t.isServerErrorCode(e.code))throw Error("Error code is not in server code range");return e}e.exports.payloadId=n,e.exports.formatJsonRpcRequest=function(e,r,t){return{id:t||n(),jsonrpc:"2.0",method:e,params:r}},e.exports.formatJsonRpcResult=function(e,r){return{id:e,jsonrpc:"2.0",result:r}},e.exports.formatJsonRpcError=function(e,r){return{id:e,jsonrpc:"2.0",error:i(r)}},e.exports.formatErrorMessage=i}),i("edwdq",function(e,r){function t(e){return"*"===e}function s(e){return!!t(e)||!!e.includes("*")&&2===e.split("*").length&&1===e.split("*").filter(e=>""===e.trim()).length}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isValidTrailingWildcardRoute=e.exports.isValidLeadingWildcardRoute=e.exports.isValidWildcardRoute=e.exports.isValidDefaultRoute=e.exports.isValidRoute=void 0,e.exports.isValidRoute=function(e){return e.includes("*")?s(e):!/\W/g.test(e)},e.exports.isValidDefaultRoute=t,e.exports.isValidWildcardRoute=s,e.exports.isValidLeadingWildcardRoute=function(e){return!t(e)&&s(e)&&!e.split("*")[0].trim()},e.exports.isValidTrailingWildcardRoute=function(e){return!t(e)&&s(e)&&!e.split("*")[1].trim()}}),i("j1VNq",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),o("40FTx").__exportStar(o("4eqaw"),e.exports)}),i("4eqaw",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("40FTx");t.__exportStar(o("e0sSe"),e.exports),t.__exportStar(o("sW5ew"),e.exports),t.__exportStar(o("9golL"),e.exports),t.__exportStar(o("7GOAB"),e.exports),t.__exportStar(o("6079W"),e.exports),t.__exportStar(o("eLFOM"),e.exports),t.__exportStar(o("7ytyd"),e.exports),t.__exportStar(o("l8EA8"),e.exports)}),i("e0sSe",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IBlockchainProvider=e.exports.IBlockchainAuthenticator=e.exports.IPendingRequests=void 0;var t=o("9golL"),s=o("6079W");e.exports.IPendingRequests=class{constructor(e){this.storage=e}};class n extends t.IEvents{constructor(e){super(),this.config=e}}e.exports.IBlockchainAuthenticator=n;class i extends s.IJsonRpcProvider{constructor(e,r){super(e)}}e.exports.IBlockchainProvider=i}),i("9golL",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IEvents=void 0,e.exports.IEvents=class{}}),i("6079W",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IJsonRpcProvider=e.exports.IBaseJsonRpcProvider=e.exports.IJsonRpcConnection=void 0;var t=o("9golL");class s extends t.IEvents{constructor(e){super()}}e.exports.IJsonRpcConnection=s;class n extends t.IEvents{constructor(){super()}}e.exports.IBaseJsonRpcProvider=n,e.exports.IJsonRpcProvider=class extends n{constructor(e){super()}}}),i("sW5ew",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0})}),i("7GOAB",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IMultiServiceProvider=void 0;var t=o("6079W");class s extends t.IBaseJsonRpcProvider{constructor(e){super(),this.config=e}}e.exports.IMultiServiceProvider=s}),i("eLFOM",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IJsonRpcRouter=void 0,e.exports.IJsonRpcRouter=class{constructor(e){this.routes=e}}}),i("7ytyd",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0})}),i("l8EA8",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IJsonRpcValidator=void 0,e.exports.IJsonRpcValidator=class{constructor(e){this.schemas=e}}}),i("e9xUv",function(e,r){function t(e){return"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function s(e){return"result"in e}function n(e){return"error"in e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isJsonRpcValidationInvalid=e.exports.isJsonRpcError=e.exports.isJsonRpcResult=e.exports.isJsonRpcResponse=e.exports.isJsonRpcRequest=e.exports.isJsonRpcPayload=void 0,e.exports.isJsonRpcPayload=t,e.exports.isJsonRpcRequest=function(e){return t(e)&&"method"in e},e.exports.isJsonRpcResponse=function(e){return t(e)&&(s(e)||n(e))},e.exports.isJsonRpcResult=s,e.exports.isJsonRpcError=n,e.exports.isJsonRpcValidationInvalid=function(e){return"error"in e&&!1===e.valid}}),i("ikH7M",function(r,s){e(r.exports,"BackgroundScriptUpdateHandler",function(){return g});var n=o("kTh4x"),i=o("fRY2e");async function a(e,r){return new Promise((t,s)=>{let n=r=>{e.onMessage.removeListener(n),e.onDisconnect.removeListener(s),t(r)};e.onMessage.addListener(n),e.onDisconnect.addListener(s),e.postMessage(r)})}class g{constructor({onActivate:e,onDisconnect:r,onFailedHandshake:s,portName:o="handshake",performHandshake:i=!0}){this.handshakeRetries=2,this.onActivate=e,this.onFailedHandshake=s,this.onDisconnect=r,this.portName=o,this.performHandshake=i,t(n).runtime.onMessage.addListener(e=>{"background-initialized"===e.event&&this.onActivate()})}async handleHandshakeFail(){console.warn("Failed handshake!"),this.onFailedHandshake?.()}async handshake(e){let r=window.crypto.getRandomValues(new Uint32Array(1))[0];return Promise.race([a(e,{syn:r}),(0,i.rejectAfterDelay)(1e3,"sendPortMessage")]).then(e=>{if(!e||e.ack!==r+1)throw Error("Unexpected response")}).catch(e=>{if(this.handshakeRetries-=1,this.handshakeRetries)throw e;this.handleHandshakeFail()})}keepAlive(){let e=t(n).runtime.connect({name:this.portName});e.error||(this.performHandshake&&this.handshake(e).catch(()=>{e.disconnect()}),e.onDisconnect.addListener(()=>{this.onDisconnect?.(),this.keepAlive()}))}}}),i("fRY2e",function(r,t){e(r.exports,"rejectAfterDelay",function(){return s});let s=(e,r)=>new Promise((t,s)=>setTimeout(()=>s(Error(`Request timed out: ${r}`)),e))}),i("2D2Ch",function(r,s){e(r.exports,"PortMessageChannel",function(){return c});var n=o("kTh4x"),i=o("g75IP"),a=o("f96Vz"),g=o("bmiZs");class c{constructor({name:e}){this.pendingRequests=new Map,this.emitter=(0,a.createNanoEvents)(),this.name=e,this.trackPendingRequests()}initialize(){this.port=t(n).runtime.connect({name:this.name}),this.port.onMessage.addListener(e=>{this.emitter.emit("message",e)}),this.emitter.emit("connect")}trackPendingRequests(){this.emitter.on("postMessage",e=>{this.pendingRequests.set(e.id,e)}),this.emitter.on("message",e=>{(0,i.isJsonRpcPayload)(e)&&this.pendingRequests.delete(e.id)}),this.emitter.on("connect",()=>{for(let e of((0,g.invariant)(this.port,"Port must exist immediately after connect event"),this.pendingRequests.values()))this.port.postMessage(e)})}async request(e,r,t){(0,g.invariant)(this.port,`Port not initialized: (${this.name})`);let s=(0,i.formatJsonRpcRequest)(e,r,t);return this.emitter.emit("postMessage",s),this.port.postMessage(s),this.getPromise(s.id)}getPromise(e){return new Promise((r,t)=>{let s=this.emitter.on("message",n=>{(0,i.isJsonRpcPayload)(n)&&(0,i.isJsonRpcResponse)(n)&&n.id===e&&((0,i.isJsonRpcResult)(n)?r(n.result):t(n.error),s())})})}}}),i("f96Vz",function(r,t){e(r.exports,"createNanoEvents",function(){return s});let s=()=>({emit(e,...r){let t=this.events[e]||[];for(let e=0,s=t.length;e<s;e++)t[e](...r)},events:{},on(e,r){return this.events[e]?.push(r)||(this.events[e]=[r]),()=>{this.events[e]=this.events[e]?.filter(e=>r!==e)}}})}),i("bmiZs",function(r,t){e(r.exports,"invariant",function(){return s});function s(e,r){if(!1===e||null==e){if("function"==typeof r)throw r();throw Error(r)}}});var a=o("h3xyl"),g=o("kTh4x"),c=o("g75IP"),l=o("ikH7M"),m=o("2D2Ch");let u=(0,a.nanoid)(),p=new BroadcastChannel(u),d=new m.PortMessageChannel({name:`${t(g).runtime.id}/ethereum`});d.initialize(),d.emitter.on("message",function(e){(0,c.isJsonRpcPayload)(e)&&(0,c.isJsonRpcResponse)(e)?p.postMessage(e):null!=e&&"object"==typeof e&&("ethereumEvent"===e.type||"walletEvent"===e.type)?p.postMessage(e):console.log("ignored message")}),new(0,l.BackgroundScriptUpdateHandler)({portName:"content-script/keepAlive",performHandshake:!1,onActivate:()=>{d.initialize()}}).keepAlive(),p.addEventListener("message",async e=>{let{data:r}=e;if((0,c.isJsonRpcRequest)(r))try{await d.request(r.method,r.params,r.id)}catch(e){if(e instanceof Error&&"Extension context invalidated."===e.message)window.location.reload();else throw e}else console.log("not a JsonRpcRequest")});let A=document.createElement("script");A.setAttribute("id","zerion-extension-channel"),A.dataset.walletChannelId=u,A.dataset.walletExtension="true",(document.head||document.documentElement).appendChild(A)}();